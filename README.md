# Immunopy #

## Краткий обзор ##
Immunopy - программа с графическим интерфейсом, позволяющая оценивать индекс позитивных ядер (англ. *labeleing index*) в реальном времени.

Приложение захватывает видеопоток с камеры микроскопа и проводит анализ полей зрения синхронно с патоморфологом, мгновенно отображая labeleing index для текущего поля зрения. Приложение ориентировано на препараты молочной железы (красители DAB / гематоксилин).

## Зависимости ##

* Python 2
* Numpy
* Scipy
* Scikits-image
* Pillow
* OpenCV
* Micromanager
* PyQt или PySide
* PyOpenGL

## Конфигурация ##

Современные автоматизированные (моторизованные) микроскопы могут оснащаться подвижным предметным столиком, турелью объективов с автофокусом, различными источниками света и камерой с затвором. Разумеется, перед использованием такой сложной системы, её необходимо сконфигурировать, а объективы откалибровать.

> TIP. Размеры пикселов для разных объективов были найдены в файлах метаинформации, генерируемых Leica Application Suite и были проверены экспериментально объектом-микрометром.

Для управления всеми устройствами используется Micromanager. Файл конфигурации для микроскопа (например MMConfig.cfg) создаётся в MMStudio (Micromanager GUI) до запуска Immunopy. В нём задаётся список используемых устройств микроскопа и настройки (в том числе пресеты), которые будут применены к микроскопу после запуска Immunopy. Конфигурирование описано в [документации Miсromanager](https://micro-manager.org/wiki/Micro-Manager_Configuration_Guide), вы должны создать группу *System* с пресетом *Startup*.

Immunopy позволяет изменять некоторые параметры в процессе работы. Например, настройки камеры: экспозиция, gain, выбор используемого объектива.

> NB! В связи с тем, что не все микроскопы имеют автоматическую *objective turette*, о которой может знать Micromanager, вы должны следить за тем, чтобы выбранное в интерфейсе Immunopy увеличение соответствовало объективу, который используете (анализатор должен знать масштаб изображения).

Ручной настройки анализатора не требуется (параметры по умолчанию подобраны экспериментально и удовлетворительны). Этот тип настроек не зависит от оборудования и обрабатывается средствами Qt так, как того требует операционная система.
